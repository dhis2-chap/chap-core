# This file contains the default model configurations that come with Chap
# This file is parsed to seed the database with models on startup.
# Any other *.yaml file in this directory is also read.
# Do not edit this file directly, as it will be overwritten when you update chap-core.
# Instead, to add models, add any other *.yaml file in this directory following the same format as here.

# Note about versions:
#- Only the last version specified (on the last line) is the one that is seed to chap
#- Versions before that are just kept as documentation about what historically has been used, so that it is possible
#- to go back to previous versions
#-

- url: https://github.com/dhis2-chap/chap_auto_ewars
  versions:
    nightly_build: "@main"
    stable: "@209759add6e13778f7061b8add8fbe814799a6cb"

- url: https://github.com/dhis2-chap/chap_auto_ewars_weekly
  versions:
    nightly_build: "@main"
    stable: "@4f40dd4be671f1d64855c06b10462bd6caddb765"

- url: https://github.com/sandvelab/monthly_ar_model
  versions:
    nightly_build: "@master"
    stable: "@5d630df4f43542093f095c7378d47f8053f9f4fa"

- url: https://github.com/knutdrand/weekly_ar_model
  versions:
    old_version: "@36a537dac138af428a4167b2a89eac7dafd5d762"
    nightly_build: "@master"
    stable: "@8ec1eb6ea854022350ad86c9e12a6d63638fbdbe"
    v2: "efda30f574bb41d179b6ff2d4199ca5a92a95c5d"

- url: https://github.com/dhis2-chap/ewars_template
  versions:
    v1: "d666546c3975994183a6386468af217aba06b6c5"
    v2: 'main'
    v3: 'e4520a2123a3228c10947f2b25029c3f7190e320'
  configurations:
    default:
      user_option_values:
        n_lags: 3
        precision: 1
      additional_continuous_covariates:
        - rainfall
        - mean_temperature

- url: https://github.com/dhis2-chap/chtorch
  versions:
    v1: "@12374124aca159c8511042c99ec3e03ee4b72686"
    v2: "@master"
  configurations:
    medium:
      user_option_values:
        max_epochs: 200
        embedding_type: "sum"
        learning_rate: 0.0005
        embed_dim: 4
        n_hidden: 4
        state_dim: 6
        num_rnn_layers: 1
        output_embedding_dim: 1
        batch_size: 64
        context_length: 12
        max_dim: 16
        weight_decay: 0.0005
        direct_ar: true
        dropout: 0.4
      additional_continuous_covariates:
        - mean_temperature
        - rainfall
    debug:
        user_option_values:
            max_epochs: 2

- url: https://github.com/dhis2-chap/rwanda_sarimax
  versions:
    v1: "@dev"

- url: https://github.com/dhis2-chap/rwanda_random_forest
  versions:
    v1: "@chap"

- url: https://github.com/dhis2-chap/chap_pymc
  versions:
    v1: "@5b0ed30b634f1083340d249bc040b83c34f296c4"
  configurations:
    skip_two_seasons:
      user_option_values:
        skip_bottom_n_seasons: 2


#- url: https://github.com/dhis2-chap/ewars_plus_python_wrapper/
#  versions:
#    v1: "@modeling_app_test"


#- url: https://github.com/dhis2-chap/INLA_baseline_model
#  versions:
#    v1: "@chap"


## chtorch model (thrugh chapkit, defined in compose.yml)
#- url: http://chtorch:8000
##- url: http://193.157.251.13:5004  # for testing locally, replace with local ip
#  uses_chapkit: true
#  versions:
#    v1: "/v1"
#  configurations:
#    debug:
#        max_epochs: 2


#- url: http://193.157.236.38:5003  # for testing locally, replace with local ip
#  uses_chapkit: true
#  versions:
#    v1: "/v1"
#  configurations:
#    chapkit: {}
